(this.webpackJsonptournemnt=this.webpackJsonptournemnt||[]).push([[0],{266:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);n(178),n(205),n(207),n(208),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247);var s=n(1),a=n.n(s),i=n(60),c=n.n(i),r=n(17),l=n.n(r),o=(n(255),n(28)),d=n(29),j=n(31),h=n(30),u=n(2),b=n(43),m=n(23),x=n(40),O=n.n(x),f=n(34),p=n.n(f),v=n(24),g=n.n(v),_=n(32),k=n.n(_),y=n(42),C=n.n(y),T=n(41),w=n.n(T),S=n(0);var N=function(e){var t=new Date(1e3*e.timestamp),n=t.getHours(),s=t.getMinutes(),a=t.getDate(),i=t.getMonth()+1,c=t.getFullYear(),r=i;switch(s<10&&(s="0"+s),i<10&&(r="0"+i),a<10&&(a="0"+a),e.mode){case"day":return Object(S.jsx)("span",{children:a+" "+["default","\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"][i]+" "+c});case"time":return Object(S.jsx)("span",{children:n+":"+s});case"dayAndTime":return Object(S.jsx)("span",{children:a+"."+r+", "+n+":"+s});default:return Object(S.jsx)("span",{children:a+"."+r+"."+c+", "+n+":"+s})}};var I=function(e,t){var n=new Date(1e3*e),s=n.getHours(),a=n.getMinutes(),i=n.getDate(),c=n.getMonth()+1,r=n.getFullYear(),l=c;switch(a<10&&(a="0"+a),c<10&&(l="0"+c),i<10&&(i="0"+i),t){case"day":return n.getDate()+" "+["default","\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"][c]+" "+r;case"time":return s+":"+a;case"dayAndTime":return i+"."+l+", "+s+":"+a;default:return i+"."+l+"."+r+", "+s+":"+a}},M=n(37),B=n.n(M),R=n(26),L=n.n(R),A=n(270);var H,P,W,z,F=n(268),E=n(269),q=!1,D=[],G={},J={},K={},V=[];var X=new XMLHttpRequest;X.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=upcoming",!1),X.send();var U=JSON.parse(X.responseText),Y=U.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{});U.data.map((function(e){D.push(e.tournament_id)})),G=U.data.reduce((function(e,t){return e[t.tournament_id]=Object(S.jsx)(F.a,{width:19,height:21}),e}),{}),J=U.data.reduce((function(e,t){return e[t.tournament_id]=Object(S.jsx)(F.a,{}),e}),{}),K=U.data.reduce((function(e,t){return e[t.tournament_id]=Object(S.jsx)(F.a,{width:24,height:24}),e}),{});var Q=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null,elem:null,bellsButtons:G,bellsAndroid:J,bellsIOS:K},s.sendPost=s.sendPost.bind(Object(m.a)(s)),s.shareTargetRef=a.a.createRef(),s.shareLink=s.shareLink.bind(Object(m.a)(s)),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"subscribeToNotification",value:function(e){-1==V.indexOf(e.tournament_id)?(V.push(e.tournament_id),J[e.tournament_id]=Object(S.jsx)(E.a,{width:28,height:28}),K[e.tournament_id]=Object(S.jsx)(E.a,{}),G[e.tournament_id]=Object(S.jsx)(E.a,{width:19,height:21})):(V.splice(V.indexOf(e.tournament_id),1),J[e.tournament_id]=Object(S.jsx)(F.a,{}),K[e.tournament_id]=Object(S.jsx)(F.a,{width:24,height:24}),G[e.tournament_id]=Object(S.jsx)(F.a,{width:19,height:21})),this.setState({bellsAndroid:J}),this.setState({bellsIOS:K}),this.setState({bellsButtons:G})}},{key:"buildRequest",value:function(e){return{message:I(e.start_at,"day")+' \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\n\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: '+I(e.registration_start_at,"dayAndTime")+"\n\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: "+I(e.registration_end_at,"dayAndTime")+"\n\n\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0435\u0432: "+I(e.start_at,"dayAndTime")+"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:",attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--green)"},children:Object(S.jsx)(B.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),n=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"}),s=this.buildRequest(this.state.elem);l.a.send("VKWebAppShowWallPostBox",s).then((function(n){e.state.snackbar||e.setState({snackbar:t})})).catch((function(t){e.state.snackbar||e.setState({snackbar:n})}))}},{key:"shareLink",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u0441\u044b\u043b\u043a\u0438"}),n="https://vk.com/app7446072#"+this.state.elem.tournament_id;l.a.send("VKWebAppShare",{link:n}).catch((function(n){e.state.snackbar||e.setState({snackbar:t})}))}},{key:"openShareActionSheet",value:function(e){var t=this;W=!1,z=event.target.closest(".vkuiButton").getBoundingClientRect().height,H=event.target.closest(".vkuiButton").getBoundingClientRect().top,P=event.target.closest(".vkuiButton").getBoundingClientRect().left,this.setState({elem:e}),this.setState({popout:Object(S.jsxs)(u.b,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(S.jsx)(u.c,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u041a\u0430\u043a \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.sendPost()},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.shareLink()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})]})})}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(b.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){""==window.location.hash||q||-1==D.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),q=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!W&&(document.documentElement.clientHeight-H<200?H=H-e[0].getBoundingClientRect().height-5:H+=z+5,e[0].style.top=H+"px",e[0].style.left=P+"px",W=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e=this,t=this.props.viewWidth>u.B.MOBILE,n=this.props.viewWidth<=u.B.MOBILE,s=this.props.platform;if(0!==U.data.length)var a=Object(S.jsx)(u.p,{activeModal:this.state.activeModal,onClose:this.modalBack,children:U.data.map((function(t){return Object(S.jsx)(u.n,{id:t.tournament_id,onClose:e.modalBack,header:Object(S.jsx)(u.o,{left:n&&s===u.m&&Object(S.jsx)(u.s,{onClick:function(){return e.subscribeToNotification(t)},children:e.state.bellsIOS[t.tournament_id]})||n&&s===u.a&&Object(S.jsx)(u.t,{onClick:e.modalBack}),right:n&&s===u.m&&Object(S.jsx)(u.s,{onClick:e.modalBack,children:Object(S.jsx)(A.a,{})})||n&&s===u.a&&Object(S.jsx)(u.s,{onClick:function(){return e.subscribeToNotification(t)},children:e.state.bellsAndroid[t.tournament_id]})||Object(S.jsx)(u.s,{onClick:function(){return e.subscribeToNotification(t)},children:e.state.bellsAndroid[t.tournament_id]}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(S.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("h4",{children:t.title})}),Object(S.jsxs)(u.k,{className:"vkuiGroup--custom-separator",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d"})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(S.jsx)(N,{timestamp:t.start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(S.jsx)(N,{timestamp:t.end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",Y[t.tournament_id].max]})})]}),Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),i=Object(S.jsxs)(u.v,{modal:a,popout:this.state.popout,children:[Object(S.jsx)(u.i,{size:t?"m":"l",children:U.data.map((function(t){return Object(S.jsxs)(u.h,{mode:"outline",children:[Object(S.jsx)("div",{className:t.status+" border"}),Object(S.jsxs)("div",{className:"TournamentCard",children:[Object(S.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(S.jsxs)("div",{className:"TornamentCard__Info",children:[Object(S.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(S.jsx)(O.a,{width:23,height:23}),Object(S.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(S.jsx)(N,{timestamp:t.start_at,mode:"day"})})]}),Object(S.jsxs)("div",{className:"TournamentCard__Info-Main",children:[Object(S.jsxs)("div",{className:"TournamentCard__Info-Main-Registration",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_end_at})]})]})]}),Object(S.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0451\u0432"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.start_at,mode:"dayAndTime"})]})})]})]})]}),Object(S.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(S.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:e.shareTargetRef,onClick:function(){return e.openShareActionSheet(t)},children:Object(S.jsx)(C.a,{})}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",onClick:function(){return e.subscribeToNotification(t)},children:e.state.bellsButtons[t.tournament_id]})]})]})]})}))}),this.state.snackbar]});else if("none"==this.props.mode)i=Object(S.jsx)("span",{});else i=Object(S.jsx)(u.u,{children:"\u041d\u0435\u0442 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432"});return i}}]),n}(a.a.Component),Z=Object(u.D)(Object(u.C)(Q,{viewWidth:!0})),$=n(273),ee=n(271),te=n(272),ne=new XMLHttpRequest;ne.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=registration_started",!1),ne.send();var se,ae,ie,ce,re=JSON.parse(ne.responseText),le=re.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),oe=!1,de=[];re.data.map((function(e){de.push(e.tournament_id)}));var je=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null,elem:null},s.shareTargetRef=a.a.createRef(),s.sendPost=s.sendPost.bind(Object(m.a)(s)),s.shareLink=s.shareLink.bind(Object(m.a)(s)),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(b.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"buildRequest",value:function(e){return{message:'\u041d\u0430\u0447\u0430\u043b\u0430\u0441\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u0442\u0443\u0440\u043d\u0438\u0440 \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: '+I(e.registration_end_at,"dayAndTime")+"\n\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0435\u0432: "+I(e.start_at,"dayAndTime")+"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:",attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--green)"},children:Object(S.jsx)(B.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),n=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"}),s=this.buildRequest(this.state.elem);l.a.send("VKWebAppShowWallPostBox",s).then((function(n){e.state.snackbar||e.setState({snackbar:t})})).catch((function(t){e.state.snackbar||e.setState({snackbar:n})}))}},{key:"shareLink",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u0441\u044b\u043b\u043a\u0438"}),n="https://vk.com/app7446072#"+this.state.elem.tournament_id;l.a.send("VKWebAppShare",{link:n}).catch((function(n){e.state.snackbar||e.setState({snackbar:t})}))}},{key:"openShareActionSheet",value:function(e){var t=this;ie=!1,ce=event.target.closest(".vkuiButton").getBoundingClientRect().height,se=event.target.closest(".vkuiButton").getBoundingClientRect().top,ae=event.target.closest(".vkuiButton").getBoundingClientRect().left,this.setState({elem:e}),this.setState({popout:Object(S.jsxs)(u.b,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(S.jsx)(u.c,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u041a\u0430\u043a \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.sendPost()},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.shareLink()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})]})})}},{key:"componentDidMount",value:function(){""==window.location.hash||oe||-1==de.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),oe=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!ie&&(document.documentElement.clientHeight-se<200?se=se-e[0].getBoundingClientRect().height-5:se+=ce+5,e[0].style.top=se+"px",e[0].style.left=ae+"px",ie=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e,t,n=this,s=this.props.viewWidth>u.B.MOBILE,a=this.props.viewWidth<=u.B.MOBILE,i=this.props.platform;if(a)switch(i){case u.m:t=Object(S.jsx)(u.s,{onClick:this.modalBack,children:Object(S.jsx)(A.a,{})}),e=Object(S.jsx)(u.s,{children:Object(S.jsx)(ee.a,{})});break;case u.a:e=Object(S.jsx)(u.t,{onClick:this.modalBack}),t=Object(S.jsx)(u.s,{children:Object(S.jsx)(te.a,{})})}else t=Object(S.jsx)(u.s,{children:Object(S.jsx)(te.a,{})});if(0!==re.data.length)var c=Object(S.jsx)(u.p,{activeModal:this.state.activeModal,onClose:this.modalBack,children:re.data.map((function(s){return Object(S.jsx)(u.n,{id:s.tournament_id,onClose:n.modalBack,header:Object(S.jsx)(u.o,{right:t,left:e,children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(S.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("h4",{children:s.title})}),Object(S.jsxs)(u.k,{className:"vkuiGroup--custom-separator",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0418\u0434\u0451\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:s.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:s.registration_end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(S.jsx)(N,{timestamp:s.start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(S.jsx)(N,{timestamp:s.end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",le[s.tournament_id].max]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",le[s.tournament_id].total]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",le[s.tournament_id].confirmed]})]})]}),Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("p",{className:"Pre",children:s.description})})]})})}))}),r=Object(S.jsxs)(u.v,{modal:c,popout:this.state.popout,children:[Object(S.jsx)(u.i,{size:s?"m":"l",children:re.data.map((function(e){return Object(S.jsxs)(u.h,{mode:"outline",children:[Object(S.jsx)("div",{className:e.status+" border"}),Object(S.jsxs)("div",{className:"TournamentCard",children:[Object(S.jsx)("div",{className:"TournamentCard__Header",children:e.title}),Object(S.jsxs)("div",{className:"TornamentCard__Info",children:[Object(S.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(S.jsx)(O.a,{width:23,height:23}),Object(S.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(S.jsx)(N,{timestamp:e.start_at,mode:"day"})})]}),Object(S.jsxs)("div",{className:"TournamentCard__Info-Main",children:[Object(S.jsxs)("div",{className:"TournamentCard__Info-Main-Registration",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:e.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:e.registration_end_at})]})]})]}),Object(S.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0451\u0432"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:e.start_at,mode:"dayAndTime"})]})})]})]})]}),Object(S.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(S.jsx)(w.a,{}),onClick:function(){return n.setActiveModal(e.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:n.shareTargetRef,onClick:function(){return n.openShareActionSheet(e)},children:Object(S.jsx)(C.a,{})}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",children:Object(S.jsx)($.a,{width:19,height:21})})]})]})]})}))}),this.state.snackbar]});else if("none"==this.props.mode)r=Object(S.jsx)("span",{});else r=Object(S.jsx)(u.u,{children:"\u041d\u0435\u0442 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432 \u0441 \u043d\u0430\u0447\u0430\u0432\u0448\u0435\u0439\u0441\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439"});return r}}]),n}(a.a.Component),he=Object(u.D)(Object(u.C)(je,{viewWidth:!0})),ue=new XMLHttpRequest;ue.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=registration_finished",!1),ue.send();var be,me,xe,Oe,fe=JSON.parse(ue.responseText),pe=fe.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),ve=!1,ge=[];fe.data.map((function(e){ge.push(e.tournament_id)}));var _e=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null,elem:null},s.sendPost=s.sendPost.bind(Object(m.a)(s)),s.shareTargetRef=a.a.createRef(),s.shareLink=s.shareLink.bind(Object(m.a)(s)),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"buildRequest",value:function(e){return{message:'\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0435\u0432: '+I(e.start_at)+"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:",attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--green)"},children:Object(S.jsx)(B.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),n=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"}),s=this.buildRequest(this.state.elem);l.a.send("VKWebAppShowWallPostBox",s).then((function(n){e.state.snackbar||e.setState({snackbar:t})})).catch((function(t){e.state.snackbar||e.setState({snackbar:n})}))}},{key:"shareLink",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u0441\u044b\u043b\u043a\u0438"}),n="https://vk.com/app7446072#"+this.state.elem.tournament_id;l.a.send("VKWebAppShare",{link:n}).catch((function(n){e.state.snackbar||e.setState({snackbar:t})}))}},{key:"openShareActionSheet",value:function(e){var t=this;xe=!1,Oe=event.target.closest(".vkuiButton").getBoundingClientRect().height,be=event.target.closest(".vkuiButton").getBoundingClientRect().top,me=event.target.closest(".vkuiButton").getBoundingClientRect().left,this.setState({elem:e}),this.setState({popout:Object(S.jsxs)(u.b,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(S.jsx)(u.c,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u041a\u0430\u043a \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.sendPost()},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.shareLink()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})]})})}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(b.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){""==window.location.hash||ve||-1==ge.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),ve=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!xe&&(document.documentElement.clientHeight-be<150?be=be-e[0].getBoundingClientRect().height-5:be+=Oe+5,e[0].style.top=be+"px",e[0].style.left=me+"px",xe=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e,t,n=this,s=this.props.viewWidth>u.B.MOBILE,a=this.props.viewWidth<=u.B.MOBILE,i=this.props.platform;if(a)switch(i){case u.m:t=Object(S.jsx)(u.s,{onClick:this.modalBack,children:Object(S.jsx)(A.a,{})}),e=Object(S.jsx)(u.s,{children:Object(S.jsx)(ee.a,{})});break;case u.a:e=Object(S.jsx)(u.t,{onClick:this.modalBack}),t=Object(S.jsx)(u.s,{children:Object(S.jsx)(te.a,{})})}else t=Object(S.jsx)(u.s,{children:Object(S.jsx)(te.a,{})});if(0!==fe.data.length)var c=Object(S.jsx)(u.p,{activeModal:this.state.activeModal,onClose:this.modalBack,children:fe.data.map((function(s){return Object(S.jsx)(u.n,{id:s.tournament_id,onClose:n.modalBack,header:Object(S.jsx)(u.o,{right:t,left:e,children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(S.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("h4",{children:s.title})}),Object(S.jsxs)(u.k,{className:"vkuiGroup--custom-separator",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:s.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:s.registration_end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(S.jsx)(N,{timestamp:s.start_at})]})}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(S.jsx)(N,{timestamp:s.end_at})]})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",pe[s.tournament_id].max]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",pe[s.tournament_id].total]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",pe[s.tournament_id].confirmed]})]})]}),Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("p",{className:"Pre",children:s.description})})]})})}))}),r=Object(S.jsxs)(u.v,{modal:c,popout:this.state.popout,children:[Object(S.jsx)(u.i,{size:s?"m":"l",children:fe.data.map((function(e){return Object(S.jsxs)(u.h,{mode:"outline",children:[Object(S.jsx)("div",{className:e.status+" border"}),Object(S.jsxs)("div",{className:"TournamentCard",children:[Object(S.jsx)("div",{className:"TournamentCard__Header",children:e.title}),Object(S.jsxs)("div",{className:"TornamentCard__Info",children:[Object(S.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(S.jsx)(O.a,{width:23,height:23}),Object(S.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(S.jsx)(N,{timestamp:e.start_at,mode:"day"})})]}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main TournamentCard__Info-Main-OneItem",children:Object(S.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0451\u0432"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:e.start_at})]})})]})})]}),Object(S.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(S.jsx)(w.a,{}),onClick:function(){return n.setActiveModal(e.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:n.shareTargetRef,onClick:function(){return n.openShareActionSheet(e)},children:Object(S.jsx)(C.a,{})}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",children:Object(S.jsx)($.a,{width:19,height:21})})]})]})]})}))}),this.state.snackbar]});else if("none"==this.props.mode)r=Object(S.jsx)("span",{});else r=Object(S.jsx)(u.u,{children:"\u041d\u0435\u0442 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432 \u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439"});return r}}]),n}(a.a.Component),ke=Object(u.D)(Object(u.C)(_e,{viewWidth:!0})),ye=new XMLHttpRequest;ye.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=running",!1),ye.send();var Ce,Te,we,Se,Ne=JSON.parse(ye.responseText),Ie=Ne.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),Me=!1,Be=[];Ne.data.map((function(e){Be.push(e.tournament_id)}));var Re=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null,elem:null},s.shareTargetRef=a.a.createRef(),s.sendPost=s.sendPost.bind(Object(m.a)(s)),s.shareLink=s.shareLink.bind(Object(m.a)(s)),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(b.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"buildRequest",value:function(e){return{message:'\u041d\u0430\u0447\u0430\u043b\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0431\u043e\u0435\u0432: '+I(e.end_at,"dayAndTime")+"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:",attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--green)"},children:Object(S.jsx)(B.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),n=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"}),s=this.buildRequest(this.state.elem);l.a.send("VKWebAppShowWallPostBox",s).then((function(n){e.state.snackbar||e.setState({snackbar:t})})).catch((function(t){e.state.snackbar||e.setState({snackbar:n})}))}},{key:"shareLink",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u0441\u044b\u043b\u043a\u0438"}),n="https://vk.com/app7446072#"+this.state.elem.tournament_id;l.a.send("VKWebAppShare",{link:n}).catch((function(n){e.state.snackbar||e.setState({snackbar:t})}))}},{key:"openShareActionSheet",value:function(e){var t=this;we=!1,Se=event.target.closest(".vkuiButton").getBoundingClientRect().height,Ce=event.target.closest(".vkuiButton").getBoundingClientRect().top,Te=event.target.closest(".vkuiButton").getBoundingClientRect().left,this.setState({elem:e}),this.setState({popout:Object(S.jsxs)(u.b,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(S.jsx)(u.c,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u041a\u0430\u043a \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.sendPost()},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.shareLink()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})]})})}},{key:"componentDidMount",value:function(){""==window.location.hash||Me||-1==Be.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),Me=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!we&&(document.documentElement.clientHeight-Ce<200?Ce=Ce-e[0].getBoundingClientRect().height-5:Ce+=Se+5,e[0].style.top=Ce+"px",e[0].style.left=Te+"px",we=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e=this,t=this.props.viewWidth>u.B.MOBILE,n=this.props.viewWidth<=u.B.MOBILE,s=this.props.platform;if(0!==Ne.data.length)var a=Object(S.jsx)(u.p,{activeModal:this.state.activeModal,onClose:this.modalBack,children:Ne.data.map((function(t){return Object(S.jsx)(u.n,{id:t.tournament_id,onClose:e.modalBack,header:Object(S.jsx)(u.o,{right:n&&s==u.m&&Object(S.jsx)(u.s,{onClick:e.modalBack,children:Object(S.jsx)(A.a,{})}),left:n&&s===u.a&&Object(S.jsx)(u.t,{onClick:e.modalBack}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(S.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("h4",{children:t.title})}),Object(S.jsxs)(u.k,{className:"vkuiGroup--custom-separator",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0418\u0434\u0443\u0442 \u0431\u043e\u0438"})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(S.jsx)(N,{timestamp:t.start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(S.jsx)(N,{timestamp:t.end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",Ie[t.tournament_id].max]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",Ie[t.tournament_id].total]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",Ie[t.tournament_id].confirmed]})]})]}),Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),i=Object(S.jsxs)(u.v,{modal:a,popout:this.state.popout,children:[Object(S.jsx)(u.i,{size:t?"m":"l",children:Ne.data.map((function(t){return Object(S.jsxs)(u.h,{mode:"outline",children:[Object(S.jsx)("div",{className:t.status+" border"}),Object(S.jsxs)("div",{className:"TournamentCard",children:[Object(S.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(S.jsxs)("div",{className:"TornamentCard__Info",children:[Object(S.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(S.jsx)(O.a,{width:23,height:23}),Object(S.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(S.jsx)(N,{timestamp:t.start_at,mode:"day"})})]}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main TournamentCard__Info-Main-OneItem",children:Object(S.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.end_at})]})]})]})})]}),Object(S.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(S.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:e.shareTargetRef,onClick:function(){return e.openShareActionSheet(t)},children:Object(S.jsx)(C.a,{})})]})]})]})}))}),this.state.snackbar]});else if("none"==this.props.mode)i=Object(S.jsx)("span",{});else i=Object(S.jsx)(u.u,{children:"\u041d\u0435\u0442 \u043d\u0430\u0447\u0430\u0432\u0448\u0438\u0445\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432"});return i}}]),n}(a.a.Component),Le=Object(u.D)(Object(u.C)(Re,{viewWidth:!0})),Ae=new XMLHttpRequest;Ae.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=finished",!1),Ae.send();var He,Pe,We,ze,Fe=JSON.parse(Ae.responseText),Ee=Fe.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),qe=!1,De=[];Fe.data.map((function(e){De.push(e.tournament_id)}));var Ge=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null,elem:null},s.shareTargetRef=a.a.createRef(),s.sendPost=s.sendPost.bind(Object(m.a)(s)),s.shareLink=s.shareLink.bind(Object(m.a)(s)),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"buildRequest",value:function(e){return{message:I(e.end_at,"day")+' \u043f\u0440\u043e\u0448\u0435\u043b \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:',attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--green)"},children:Object(S.jsx)(B.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),n=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"}),s=this.buildRequest(this.state.elem);l.a.send("VKWebAppShowWallPostBox",s).then((function(n){e.state.snackbar||e.setState({snackbar:t})})).catch((function(t){e.state.snackbar||e.setState({snackbar:n})}))}},{key:"shareLink",value:function(){var e=this,t=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--green)"},children:Object(S.jsx)(B.a,{fill:"#fff",width:14,height:14})}),children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"}),n=Object(S.jsx)(u.x,{onClose:function(){return e.setState({snackbar:null})},duration:"2000",before:Object(S.jsx)(u.f,{size:24,style:{background:"var(--red)"},children:Object(S.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u0441\u044b\u043b\u043a\u0438"}),s="https://vk.com/app7446072#"+this.state.elem.tournament_id;l.a.send("VKWebAppShare",{link:s}).then((function(n){if(e.props.viewWidth>u.B.MOBILE){if(e.state.snackbar)return;e.setState({snackbar:t})}})).catch((function(t){e.state.snackbar||e.setState({snackbar:n})}))}},{key:"openShareActionSheetFinish",value:function(e){var t=this;We=!1,ze=event.target.closest(".vkuiButton").getBoundingClientRect().height,He=event.target.closest(".vkuiButton").getBoundingClientRect().top,Pe=event.target.closest(".vkuiButton").getBoundingClientRect().left,this.setState({elem:e}),this.setState({popout:Object(S.jsxs)(u.b,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(S.jsx)(u.c,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u041a\u0430\u043a \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.sendPost()},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(S.jsx)(u.c,{autoclose:!0,onClick:function(){return t.shareLink()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})]})})}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(b.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){""==window.location.hash||qe||-1==De.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),qe=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!We&&(document.documentElement.clientHeight-He<200?He=He-e[0].getBoundingClientRect().height-5:He+=ze+5,e[0].style.top=He+"px",e[0].style.left=Pe+"px",We=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e=this,t=this.props.viewWidth>u.B.MOBILE,n=this.props.viewWidth<=u.B.MOBILE,s=this.props.platform;if(0!==Fe.data.length)var a=Object(S.jsx)(u.p,{activeModal:this.state.activeModal,onClose:this.modalBack,children:Fe.data.map((function(t){return Object(S.jsx)(u.n,{id:t.tournament_id,onClose:e.modalBack,header:Object(S.jsx)(u.o,{right:n&&s===u.m&&Object(S.jsx)(u.s,{onClick:e.modalBack,children:Object(S.jsx)(A.a,{})}),left:n&&s===u.a&&Object(S.jsx)(u.t,{onClick:e.modalBack}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(S.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("h4",{children:t.title})}),Object(S.jsxs)(u.k,{className:"vkuiGroup--custom-separator",children:[Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(S.jsx)("div",{style:{marginLeft:5},children:Object(S.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"})}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(k.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(p.a,{width:17,height:17}),Object(S.jsx)(N,{timestamp:t.registration_end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(S.jsx)(N,{timestamp:t.start_at})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(S.jsx)(N,{timestamp:t.end_at})]})]}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(S.jsxs)("div",{style:{marginLeft:5},children:[Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",Ee[t.tournament_id].max]}),Object(S.jsx)("br",{}),Object(S.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(S.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u0440\u0438\u043d\u044f\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",Ee[t.tournament_id].total]})]})]}),Object(S.jsx)(u.k,{className:"vkuiGroup--custom-separator",children:Object(S.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),i=Object(S.jsxs)(u.v,{modal:a,popout:this.state.popout,children:[Object(S.jsx)(u.i,{size:t?"m":"l",children:Fe.data.map((function(t){return Object(S.jsxs)(u.h,{mode:"outline",children:[Object(S.jsx)("div",{className:t.status+" border"}),Object(S.jsxs)("div",{className:"TournamentCard",children:[Object(S.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(S.jsxs)("div",{className:"TornamentCard__Info",children:[Object(S.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(S.jsx)(O.a,{width:23,height:23}),Object(S.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(S.jsx)(N,{timestamp:t.start_at,mode:"day"})})]}),Object(S.jsx)("div",{className:"TournamentCard__Info-Main",children:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"})]}),Object(S.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(S.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(S.jsx)(u.g,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:e.shareTargetRef,onClick:function(){return e.openShareActionSheetFinish(t)},children:Object(S.jsx)(C.a,{})})]})]})]})}))}),this.state.snackbar]});else if("none"==this.props.mode)i=Object(S.jsx)("span",{});else i=Object(S.jsx)(u.u,{children:"\u041d\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432"});return i}}]),n}(a.a.Component),Je=Object(u.D)(Object(u.C)(Ge,{viewWidth:!0})),Ke=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(he,{mode:"none"}),Object(S.jsx)(Z,{mode:"none"}),Object(S.jsx)(ke,{mode:"none"}),Object(S.jsx)(Le,{mode:"none"}),Object(S.jsx)(Je,{mode:"none"})]})}}]),n}(a.a.Component),Ve=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={contextOpened:!1,mode:"all",activeTab:"all"},s}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this;return"all"===this.state.activeTab&&(e=Object(S.jsx)(Ke,{})),"upcoming"===this.state.activeTab&&(e=Object(S.jsx)(Z,{})),"registration_started"===this.state.activeTab&&(e=Object(S.jsx)(he,{})),"registration_finished"===this.state.activeTab&&(e=Object(S.jsx)(ke,{})),"running"===this.state.activeTab&&(e=Object(S.jsx)(Le,{})),"finish"===this.state.activeTab&&(e=Object(S.jsx)(Je,{})),Object(S.jsx)(u.A,{children:Object(S.jsxs)(u.q,{children:[Object(S.jsx)(u.r,{children:"T\u0443\u0440\u043d\u0438\u0440\u044b WoT Blitz"}),Object(S.jsxs)(u.k,{style:{paddingTop:35},children:[Object(S.jsxs)(u.j,{vertical:"top",filled:!0,children:[Object(S.jsx)(u.y,{mode:"buttons",children:Object(S.jsxs)(u.l,{children:[Object(S.jsx)(u.z,{onClick:function(){t.setState({activeTab:"all"}),window.scrollTo(0,0)},selected:"all"===this.state.activeTab,children:"\u0412\u0441\u0435"}),Object(S.jsx)(u.z,{onClick:function(){t.setState({activeTab:"registration_started"}),window.scrollTo(0,0)},selected:"registration_started"===this.state.activeTab,children:"\u0418\u0434\u0451\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsx)(u.z,{onClick:function(){t.setState({activeTab:"upcoming"}),window.scrollTo(0,0)},selected:"upcoming"===this.state.activeTab,children:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435"}),Object(S.jsx)(u.z,{onClick:function(){t.setState({activeTab:"registration_finished"}),window.scrollTo(0,0)},selected:"registration_finished"===this.state.activeTab,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),Object(S.jsx)(u.z,{onClick:function(){t.setState({activeTab:"running"}),window.scrollTo(0,0)},selected:"running"===this.state.activeTab,children:"\u0418\u0434\u0443\u0442 \u0431\u043e\u0438"}),Object(S.jsx)(u.z,{onClick:function(){t.setState({activeTab:"finish"}),window.scrollTo(0,0)},selected:"finish"===this.state.activeTab,children:"\u0411\u043e\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b"})]})}),Object(S.jsx)(u.w,{wide:!0})]}),e]})]})})}}]),n}(a.a.Component),Xe=function(){return Object(S.jsx)(u.d,{children:Object(S.jsx)(u.e,{children:Object(S.jsx)(Ve,{})})})};n(266);l.a.send("VKWebAppInit"),l.a.subscribe((function(e){"VKWebAppUpdateConfig"===e.detail.type&&(document.body.setAttribute("scheme",e.detail.data.scheme),document.html.setAttribute("scheme",e.detail.data.scheme))})),c.a.render(Object(S.jsx)(Xe,{}),document.getElementById("root")),Promise.all([n.e(3),n.e(4)]).then(n.bind(null,277)).then((function(e){e.default}))}},[[267,1,2]]]);
//# sourceMappingURL=main.17a4fc55.chunk.js.map