(this.webpackJsonptournemnt=this.webpackJsonptournemnt||[]).push([[0],{263:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);n(175),n(202),n(204),n(205),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244);var s=n(1),a=n.n(s),i=n(57),c=n.n(i),r=n(26),l=n.n(r),o=(n(252),n(22)),d=n(23),j=n(25),b=n(24),h=n(3),u=n(38),m=n(35),x=n.n(m),O=n(34),p=n.n(O),f=n(28),v=n.n(f),_=n(19),g=n.n(_),y=n(27),T=n.n(y),C=n(37),k=n.n(C),N=n(36),w=n.n(N),I=n(0);var M=function(e){var t=new Date(1e3*e.timestamp),n=t.getHours(),s=t.getMinutes(),a=t.getDate(),i=t.getMonth()+1,c=t.getFullYear(),r=i;switch(s<10&&(s="0"+s),i<10&&(r="0"+i),a<10&&(a="0"+a),e.mode){case"day":return Object(I.jsx)("span",{children:a+" "+["default","\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"][i]+" "+c});case"time":return Object(I.jsx)("span",{children:n+":"+s});case"dayAndTime":return Object(I.jsx)("span",{children:a+"."+r+", "+n+":"+s});default:return Object(I.jsx)("span",{children:a+"."+r+"."+c+", "+n+":"+s})}},S=new XMLHttpRequest;S.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=upcoming",!1),S.send();var B=JSON.parse(S.responseText),R=B.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),H=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[]},s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(u.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"render",value:function(){var e=this;if(0!==B.data.length)var t=Object(I.jsx)(h.m,{activeModal:this.state.activeModal,onClose:this.modalBack,children:B.data.map((function(t){return Object(I.jsx)(h.k,{id:t.title,onClose:e.modalBack,header:Object(I.jsx)(h.l,{left:Object(I.jsx)(h.p,{onClick:e.modalBack,children:Object(I.jsx)(p.a,{})}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(I.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("h4",{children:t.title})}),Object(I.jsxs)(h.i,{className:"vkuiGroup--custom-separator",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(I.jsx)(M,{timestamp:t.start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(I.jsx)(M,{timestamp:t.end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",R[t.tournament_id].max]})})]}),Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),n=Object(I.jsx)(h.r,{modal:t,children:B.data.map((function(t){return Object(I.jsx)(h.h,{size:"l",children:Object(I.jsxs)(h.g,{mode:"outline",children:[Object(I.jsx)("div",{className:t.status+" border"}),Object(I.jsxs)("div",{className:"TournamentCard",children:[Object(I.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(I.jsxs)("div",{className:"TornamentCard__Info",children:[Object(I.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(I.jsx)(x.a,{width:25,height:25}),Object(I.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(I.jsx)(M,{timestamp:t.start_at,mode:"day"})})]}),Object(I.jsxs)("div",{className:"TournamentCard__Info-Main",children:[Object(I.jsxs)("div",{className:"TournamentCard__Info-Main-Registration",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]})]}),Object(I.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0451\u0432"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.start_at,mode:"dayAndTime"})]})})]})]})]}),Object(I.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(I.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.title)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",children:Object(I.jsx)(k.a,{})})]})]})]})})}))});else if("none"==this.props.mode)n=Object(I.jsx)("span",{});else n=Object(I.jsx)(h.q,{children:"\u041d\u0435\u0442 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432"});return n}}]),n}(a.a.Component);var A=function(e,t){var n=new Date(1e3*e),s=n.getHours(),a=n.getMinutes(),i=n.getDate(),c=n.getMonth()+1,r=n.getFullYear(),l=c;switch(a<10&&(a="0"+a),c<10&&(l="0"+c),i<10&&(i="0"+i),t){case"day":return i+" "+["default","\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"][c]+" "+r;case"time":return s+":"+a;case"dayAndTime":return i+"."+l+", "+s+":"+a;default:return i+"."+l+"."+r+", "+s+":"+a}},P=n(50),L=n.n(P),W=n(51),F=n.n(W),z=new XMLHttpRequest;z.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=registration_started",!1),z.send();var q,G,J,K,V=JSON.parse(z.responseText),D=V.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),X=!1,E=[];V.data.map((function(e){E.push(e.tournament_id)}));var U=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null},s.shareTargetRef=a.a.createRef(),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(u.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"buildRequest",value:function(e){return{message:'\u041d\u0430\u0447\u0430\u043b\u0430\u0441\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u0442\u0443\u0440\u043d\u0438\u0440 \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: '+A(e.registration_end_at,"dayAndTime")+"\n\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0435\u0432: "+A(e.start_at,"dayAndTime")+"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:",attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(e){var t=this,n=Object(I.jsx)(h.s,{onClose:function(){return t.setState({snackbar:null})},duration:"2000",before:Object(I.jsx)(h.e,{size:24,style:{background:"var(--green)"},children:Object(I.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),s=Object(I.jsx)(h.s,{onClose:function(){t.setState({snackbar:null}),console.log(228228)},duration:"2000",before:Object(I.jsx)(h.e,{size:24,style:{background:"var(--red)"},children:Object(I.jsx)(F.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"});new Promise((function(n){var s=t.buildRequest(e);l.a.send("VKWebAppShowWallPostBox",s),n()})).then((function(){console.log(2e3),l.a.subscribe((function(e){if("VKWebAppShowWallPostBoxResult"===e.detail.type){if(t.state.snackbar)return;t.setState({snackbar:n})}if("VKWebAppShowWallPostBoxFailed"===e.detail.type){if(t.state.snackbar)return;t.setState({snackbar:s})}}))}))}},{key:"openShareActionSheet",value:function(e){var t=this;J=!1,K=event.target.closest(".vkuiButton").getBoundingClientRect().height,q=event.target.closest(".vkuiButton").getBoundingClientRect().top,G=event.target.closest(".vkuiButton").getBoundingClientRect().left+45,this.setState({popout:Object(I.jsxs)(h.a,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(I.jsx)(h.b,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u0413\u0434\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(I.jsx)(h.b,{autoclose:!0,onClick:function(){return t.sendPost(e)},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(I.jsx)(h.b,{autoclose:!0,children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"})]})})}},{key:"componentDidMount",value:function(){""==window.location.hash||X||-1==E.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),X=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!J&&(document.documentElement.clientHeight-q<150&&(q=q-e[0].getBoundingClientRect().height+K),e[0].style.top=q+"px",e[0].style.left=G+"px",J=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e=this;if(0!==V.data.length)var t=Object(I.jsx)(h.m,{activeModal:this.state.activeModal,onClose:this.modalBack,children:V.data.map((function(t){return Object(I.jsx)(h.k,{id:t.tournament_id,onClose:e.modalBack,header:Object(I.jsx)(h.l,{left:Object(I.jsx)(h.p,{onClick:e.modalBack,children:Object(I.jsx)(p.a,{})}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(I.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("h4",{children:t.title})}),Object(I.jsxs)(h.i,{className:"vkuiGroup--custom-separator",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0418\u0434\u0451\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(I.jsx)(M,{timestamp:t.start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(I.jsx)(M,{timestamp:t.end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",D[t.tournament_id].max]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",D[t.tournament_id].total]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",D[t.tournament_id].confirmed]})]})]}),Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),n=Object(I.jsx)(h.u,{modal:t,popout:this.state.popout,children:Object(I.jsxs)(h.t,{children:[V.data.map((function(t){return Object(I.jsx)(h.h,{size:"l",children:Object(I.jsxs)(h.g,{mode:"outline",children:[Object(I.jsx)("div",{className:t.status+" border"}),Object(I.jsxs)("div",{className:"TournamentCard",children:[Object(I.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(I.jsxs)("div",{className:"TornamentCard__Info",children:[Object(I.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(I.jsx)(x.a,{width:25,height:25}),Object(I.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(I.jsx)(M,{timestamp:t.start_at,mode:"day"})})]}),Object(I.jsxs)("div",{className:"TournamentCard__Info-Main",children:[Object(I.jsxs)("div",{className:"TournamentCard__Info-Main-Registration",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]})]}),Object(I.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041d\u0430\u0447\u0430\u043b\u043e \u0431\u043e\u0451\u0432"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.start_at,mode:"dayAndTime"})]})})]})]})]}),Object(I.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(I.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:e.shareTargetRef,onClick:function(){return e.openShareActionSheet(t)},children:Object(I.jsx)(k.a,{})})]})]})]})})})),this.state.snackbar]})});else if("none"==this.props.mode)n=Object(I.jsx)("span",{});else n=Object(I.jsx)(h.q,{children:"\u041d\u0435\u0442 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432 \u0441 \u043d\u0430\u0447\u0430\u0432\u0448\u0435\u0439\u0441\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439"});return n}}]),n}(a.a.Component),Y=new XMLHttpRequest;Y.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=registration_finished",!1),Y.send();var Q=JSON.parse(Y.responseText),Z=Q.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),$=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[]},s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(u.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"render",value:function(){var e=this;if(0!==Q.data.length)var t=Object(I.jsx)(h.m,{activeModal:this.state.activeModal,onClose:this.modalBack,children:Q.data.map((function(t){return Object(I.jsx)(h.k,{id:t.title,onClose:e.modalBack,header:Object(I.jsx)(h.l,{left:Object(I.jsx)(h.p,{onClick:e.modalBack,children:Object(I.jsx)(p.a,{})}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(I.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("h4",{children:t.title})}),Object(I.jsxs)(h.i,{className:"vkuiGroup--custom-separator",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(I.jsx)(M,{timestamp:t.start_at})]})}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(I.jsx)(M,{timestamp:t.end_at})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",Z[t.tournament_id].max]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",Z[t.tournament_id].total]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",Z[t.tournament_id].confirmed]})]})]}),Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),n=Object(I.jsx)(h.r,{modal:t,children:Q.data.map((function(t){return Object(I.jsx)(h.h,{size:"l",children:Object(I.jsxs)(h.g,{mode:"outline",children:[Object(I.jsx)("div",{className:t.status+" border"}),Object(I.jsxs)("div",{className:"TournamentCard",children:[Object(I.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(I.jsxs)("div",{className:"TornamentCard__Info",children:[Object(I.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(I.jsx)(x.a,{width:25,height:25}),Object(I.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(I.jsx)(M,{timestamp:t.start_at,mode:"day"})})]}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main TournamentCard__Info-Main-OneItem",children:Object(I.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.end_at})]})]})]})})]}),Object(I.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(I.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.title)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",children:Object(I.jsx)(k.a,{})})]})]})]})})}))});else if("none"==this.props.mode)n=Object(I.jsx)("span",{});else n=Object(I.jsx)(h.q,{children:"\u041d\u0435\u0442 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432 \u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439"});return n}}]),n}(a.a.Component),ee=new XMLHttpRequest;ee.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=running",!1),ee.send();var te,ne,se,ae,ie=JSON.parse(ee.responseText),ce=ie.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),re=!1,le=[];ie.data.map((function(e){le.push(e.tournament_id)}));var oe=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null},s.shareTargetRef=a.a.createRef(),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(u.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"buildRequest",value:function(e){return{message:'\u041d\u0430\u0447\u0430\u043b\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0431\u043e\u0435\u0432: '+A(e.end_at,"dayAndTime")+"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:",attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(e){var t=this,n=Object(I.jsx)(h.s,{onClose:function(){return t.setState({snackbar:null})},duration:"2000",before:Object(I.jsx)(h.e,{size:24,style:{background:"var(--green)"},children:Object(I.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),s=Object(I.jsx)(h.s,{onClose:function(){t.setState({snackbar:null}),console.log(2282281337)},duration:"2000",before:Object(I.jsx)(h.e,{size:24,style:{background:"var(--red)"},children:Object(I.jsx)(F.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"});new Promise((function(n){var s=t.buildRequest(e);l.a.send("VKWebAppShowWallPostBox",s),n()})).then((function(){console.log(3e3),l.a.subscribe((function(e){if("VKWebAppShowWallPostBoxResult"===e.detail.type){if(t.state.snackbar)return;t.setState({snackbar:n})}if("VKWebAppShowWallPostBoxFailed"===e.detail.type){if(t.state.snackbar)return;t.setState({snackbar:s})}}))}))}},{key:"openShareActionSheet",value:function(e){var t=this;se=!1,ae=event.target.closest(".vkuiButton").getBoundingClientRect().height,te=event.target.closest(".vkuiButton").getBoundingClientRect().top,ne=event.target.closest(".vkuiButton").getBoundingClientRect().left+45,this.setState({popout:Object(I.jsxs)(h.a,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(I.jsx)(h.b,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u0413\u0434\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(I.jsx)(h.b,{autoclose:!0,onClick:function(){return t.sendPost(e)},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(I.jsx)(h.b,{autoclose:!0,children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"})]})})}},{key:"componentDidMount",value:function(){""==window.location.hash||re||-1==le.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),re=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!se&&(document.documentElement.clientHeight-te<150&&(te=te-e[0].getBoundingClientRect().height+ae),e[0].style.top=te+"px",e[0].style.left=ne+"px",se=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e=this;if(0!==ie.data.length)var t=Object(I.jsx)(h.m,{activeModal:this.state.activeModal,onClose:this.modalBack,children:ie.data.map((function(t){return Object(I.jsx)(h.k,{id:t.tournament_id,onClose:e.modalBack,header:Object(I.jsx)(h.l,{left:Object(I.jsx)(h.p,{onClick:e.modalBack,children:Object(I.jsx)(p.a,{})}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(I.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("h4",{children:t.title})}),Object(I.jsxs)(h.i,{className:"vkuiGroup--custom-separator",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0418\u0434\u0443\u0442 \u0431\u043e\u0438"})}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(I.jsx)(M,{timestamp:t.start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(I.jsx)(M,{timestamp:t.end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",ce[t.tournament_id].max]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",ce[t.tournament_id].total]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",ce[t.tournament_id].confirmed]})]})]}),Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),n=Object(I.jsx)(h.u,{modal:t,popout:this.state.popout,children:Object(I.jsxs)(h.t,{children:[ie.data.map((function(t){return Object(I.jsx)(h.h,{size:"l",children:Object(I.jsxs)(h.g,{mode:"outline",children:[Object(I.jsx)("div",{className:t.status+" border"}),Object(I.jsxs)("div",{className:"TournamentCard",children:[Object(I.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(I.jsxs)("div",{className:"TornamentCard__Info",children:[Object(I.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(I.jsx)(x.a,{width:25,height:25}),Object(I.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(I.jsx)(M,{timestamp:t.start_at,mode:"day"})})]}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main TournamentCard__Info-Main-OneItem",children:Object(I.jsxs)("div",{className:"TournamentCard__Info-Main-Start",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.end_at})]})]})]})})]}),Object(I.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(I.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:e.shareTargetRef,onClick:function(){return e.openShareActionSheet(t)},children:Object(I.jsx)(k.a,{})})]})]})]})})})),this.state.snackbar]})});else if("none"==this.props.mode)n=Object(I.jsx)("span",{});else n=Object(I.jsx)(h.q,{children:"\u041d\u0435\u0442 \u043d\u0430\u0447\u0430\u0432\u0448\u0438\u0445\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432"});return n}}]),n}(a.a.Component),de=new XMLHttpRequest;de.open("POST","https://api.wotblitz.ru/wotb/tournaments/list/?application_id=132530213b8f23d4c0e1d1f423c307a9&status=finished",!1),de.send();var je,be,he,ue,me=JSON.parse(de.responseText),xe=me.data.reduce((function(e,t){var n=new XMLHttpRequest;return n.open("POST","https://api.wotblitz.ru/wotb/tournaments/info/?application_id=132530213b8f23d4c0e1d1f423c307a9&tournament_id="+t.tournament_id+"&fields=teams",!1),n.send(),e[t.tournament_id]=JSON.parse(n.responseText).data[t.tournament_id].teams,e}),{}),Oe=!1,pe=[];me.data.map((function(e){pe.push(e.tournament_id)}));var fe=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={activeModal:null,modalHistory:[],popout:null,snackbar:null},s.shareTargetRef=a.a.createRef(),s.modalBack=function(){s.setActiveModal(s.state.modalHistory[s.state.modalHistory.length-2])},s}return Object(d.a)(n,[{key:"buildRequest",value:function(e){return{message:A(e.end_at,"day")+' \u043f\u0440\u043e\u0448\u0435\u043b \u0442\u0443\u0440\u043d\u0438\u0440 "'+e.title+'"\n\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438:',attachments:"https://vk.com/app7446072#"+e.tournament_id}}},{key:"sendPost",value:function(e){var t=this,n=Object(I.jsx)(h.s,{onClose:function(){return t.setState({snackbar:null})},duration:"2000",before:Object(I.jsx)(h.e,{size:24,style:{background:"var(--green)"},children:Object(I.jsx)(L.a,{fill:"#fff",width:14,height:14})}),children:"\u0417\u0430\u043f\u0438\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430"}),s=Object(I.jsx)(h.s,{onClose:function(){t.setState({snackbar:null}),console.log(228)},duration:"2000",before:Object(I.jsx)(h.e,{size:24,style:{background:"var(--red)"},children:Object(I.jsx)(F.a,{fill:"#fff",width:14,height:14})}),children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"});new Promise((function(n){var s=t.buildRequest(e);l.a.send("VKWebAppShowWallPostBox",s),n()})).then((function(){console.log(1e3),l.a.subscribe((function(e){if("VKWebAppShowWallPostBoxResult"===e.detail.type){if(t.state.snackbar)return;t.setState({snackbar:n})}if("VKWebAppShowWallPostBoxFailed"===e.detail.type){if(t.state.snackbar)return;t.setState({snackbar:s})}}))}))}},{key:"openShareActionSheet",value:function(e){var t=this;he=!1,ue=event.target.closest(".vkuiButton").getBoundingClientRect().height,je=event.target.closest(".vkuiButton").getBoundingClientRect().top,be=event.target.closest(".vkuiButton").getBoundingClientRect().left+45,this.setState({popout:Object(I.jsxs)(h.a,{onClose:function(){return t.setState({popout:null})},iosCloseItem:Object(I.jsx)(h.b,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),header:"\u0413\u0434\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c?",toggleRef:this.shareTargetRef.current,children:[Object(I.jsx)(h.b,{autoclose:!0,onClick:function(){return t.sendPost(e)},children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435"}),Object(I.jsx)(h.b,{autoclose:!0,children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"})]})})}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(u.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){""==window.location.hash||Oe||-1==pe.indexOf(Number(window.location.hash.slice(1)))||(this.setActiveModal(Number(window.location.hash.slice(1))),Oe=!0)}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("vkuiActionSheet--desktop");e[0]&&new MutationObserver((function(t){t&&!he&&(document.documentElement.clientHeight-je<150&&(je=je-e[0].getBoundingClientRect().height+ue),e[0].style.top=je+"px",e[0].style.left=be+"px",he=!0)})).observe(e[0],{attributes:!0,attributeFilter:["style"]})}},{key:"render",value:function(){var e=this;if(0!==me.data.length)var t=Object(I.jsx)(h.m,{activeModal:this.state.activeModal,onClose:this.modalBack,children:me.data.map((function(t){return Object(I.jsx)(h.k,{id:t.tournament_id,onClose:e.modalBack,header:Object(I.jsx)(h.l,{left:Object(I.jsx)(h.p,{onClick:e.modalBack,children:Object(I.jsx)(p.a,{})}),children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),children:Object(I.jsxs)("div",{className:"ModalPage__Content Turnament-Information__Group",children:[Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("h4",{children:t.title})}),Object(I.jsxs)(h.i,{className:"vkuiGroup--custom-separator",children:[Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(I.jsx)("div",{style:{marginLeft:5},children:Object(I.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},children:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d"})}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(T.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{width:17,height:17}),Object(I.jsx)(M,{timestamp:t.registration_end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0451\u0432"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"green"}}),Object(I.jsx)(M,{timestamp:t.start_at})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)(g.a,{width:17,height:17,style:{color:"rgb(200, 0, 0)"}}),Object(I.jsx)(M,{timestamp:t.end_at})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main-Title",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(I.jsxs)("div",{style:{marginLeft:5},children:[Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u043e\u043c\u0430\u043d\u0434:\xa0"})," ",xe[t.tournament_id].max]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(I.jsx)("span",{style:{fontWeight:"450"},children:"\u041f\u0440\u0438\u043d\u044f\u043b\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435:\xa0"})," ",xe[t.tournament_id].total]})]})]}),Object(I.jsx)(h.i,{className:"vkuiGroup--custom-separator",children:Object(I.jsx)("p",{className:"Pre",children:t.description})})]})})}))}),n=Object(I.jsx)(h.u,{modal:t,popout:this.state.popout,children:Object(I.jsxs)(h.t,{children:[me.data.map((function(t){return Object(I.jsx)(h.h,{size:"l",children:Object(I.jsxs)(h.g,{mode:"outline",children:[Object(I.jsx)("div",{className:t.status+" border"}),Object(I.jsxs)("div",{className:"TournamentCard",children:[Object(I.jsx)("div",{className:"TournamentCard__Header",children:t.title}),Object(I.jsxs)("div",{className:"TornamentCard__Info",children:[Object(I.jsxs)("div",{className:"TornamentCard__Info-Start",children:[Object(I.jsx)(x.a,{width:25,height:25}),Object(I.jsx)("div",{className:"TornamentCard__Info-Start-Text",children:Object(I.jsx)(M,{timestamp:t.start_at,mode:"day"})})]}),Object(I.jsx)("div",{className:"TournamentCard__Info-Main",children:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"})]}),Object(I.jsxs)("div",{className:"TornamentCard__Footer",children:[Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button",mode:"outline",before:Object(I.jsx)(w.a,{}),onClick:function(){return e.setActiveModal(t.tournament_id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(I.jsx)(h.f,{className:"TornamentCard__Footer-Button TornamentCard__Footer-SmallButton",mode:"outline",getRootRef:e.shareTargetRef,onClick:function(){return e.openShareActionSheet(t)},children:Object(I.jsx)(k.a,{})})]})]})]})})})),this.state.snackbar]})});else n=Object(I.jsx)(h.q,{children:"\u041d\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u0432"});return n}}]),n}(a.a.Component),ve=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{mode:"none"}),Object(I.jsx)($,{mode:"none"}),Object(I.jsx)(oe,{mode:"none"}),Object(I.jsx)(H,{mode:"none"}),Object(I.jsx)(fe,{mode:"none"})]})}}]),n}(a.a.Component),_e=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={contextOpened:!1,mode:"all",activeTab:"all"},s}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this;return"all"===this.state.activeTab&&(e=Object(I.jsx)(ve,{})),"upcoming"===this.state.activeTab&&(e=Object(I.jsx)(H,{})),"registration_started"===this.state.activeTab&&(e=Object(I.jsx)(U,{})),"registration_finished"===this.state.activeTab&&(e=Object(I.jsx)($,{})),"running"===this.state.activeTab&&(e=Object(I.jsx)(oe,{})),"finish"===this.state.activeTab&&(e=Object(I.jsx)(fe,{})),Object(I.jsx)(h.x,{children:Object(I.jsxs)(h.n,{children:[Object(I.jsx)(h.o,{children:"T\u0443\u0440\u043d\u0438\u0440\u044b WoT Blitz"}),Object(I.jsx)(h.i,{children:Object(I.jsx)(h.v,{mode:"buttons",children:Object(I.jsxs)(h.j,{children:[Object(I.jsx)(h.w,{onClick:function(){return t.setState({activeTab:"all"})},selected:"all"===this.state.activeTab,children:"\u0412\u0441\u0435"}),Object(I.jsx)(h.w,{onClick:function(){return t.setState({activeTab:"registration_started"})},selected:"registration_started"===this.state.activeTab,children:"\u0418\u0434\u0451\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsx)(h.w,{onClick:function(){return t.setState({activeTab:"upcoming"})},selected:"upcoming"===this.state.activeTab,children:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435"}),Object(I.jsx)(h.w,{onClick:function(){return t.setState({activeTab:"registration_finished"})},selected:"registration_finished"===this.state.activeTab,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"}),Object(I.jsx)(h.w,{onClick:function(){return t.setState({activeTab:"running"})},selected:"running"===this.state.activeTab,children:"\u0418\u0434\u0443\u0442 \u0431\u043e\u0438"}),Object(I.jsx)(h.w,{onClick:function(){return t.setState({activeTab:"finish"})},selected:"finish"===this.state.activeTab,children:"\u0411\u043e\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b"})]})})}),Object(I.jsx)(h.i,{children:e})]})})}}]),n}(a.a.Component),ge=function(){return Object(I.jsx)(h.c,{children:Object(I.jsx)(h.d,{children:Object(I.jsx)(_e,{})})})};n(263);l.a.send("VKWebAppInit"),l.a.subscribe((function(e){"VKWebAppUpdateConfig"===e.detail.type&&(document.body.setAttribute("scheme",e.detail.data.scheme),document.html.setAttribute("scheme",e.detail.data.scheme))})),c.a.render(Object(I.jsx)(ge,{}),document.getElementById("root")),Promise.all([n.e(3),n.e(4)]).then(n.bind(null,268)).then((function(e){e.default}))}},[[264,1,2]]]);
//# sourceMappingURL=main.7368d7cd.chunk.js.map